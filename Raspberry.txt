-- prise en charge du boot depuis l'USB Ã  partir dses version hardware @1.2
-- ajoute cette ligne dans le fichier config.txt (root)
program_usb_boot_mode=1

sudo raspi-config
hostname > pi3
ssh pi@pi3
ssh pi@192.168.0.30

-- info version
cat /etc/os-release

-- reboot
sudo shutdown -r now (or sudo reboot)
-- shutdown
sudo shutdown -h now (or sudo halt)

-- upgrade
sudo apt update
sudo apt full-upgrade
sudo apt-get clean 
sudo apt autoremove

-- Install Git

-- install Docker on rpi3b
sudo apt-get install apt-transport-https ca-certificates software-properties-common -y
curl -fsSL get.docker.com -o get-docker.sh && sh get-docker.sh
sudo usermod -aG docker pi
sudo curl https://download.docker.com/linux/raspbian/gpg
sudo nano /etc/apt/sources.list
	deb https://download.docker.com/linux/raspbian/ stretch stable
sudo apt-get update
sudo apt-get upgrade
sudo systemctl stop docker.service
sudo systemctl start docker.service
	sudo systemctl enable docker.service
systemctl status docker
systemctl start docker

-- install Portainer on rpi3b
sudo docker pull portainer/portainer-ce:linux-arm
sudo docker volume create portainer_data
sudo docker run --restart always -d -p 9000:9000 -v /var/run/docker.sock:/var/run/docker.sock -v portainer_data:/data portainer/portainer-ce:linux-arm
sudo docker ps
http://192.168.0.30:9000
pi3docker/DockerInside

docker network create iot
50e4163a5a0c7464966413299d553dd51ada8cacddab21a29875df4ff357c2f3

-- install Mosquitto
docker pull eclipse-mosquitto

-- install image Node-Red
docker pull nodered/node-red
-- check not used port
sudo netstat -pna | grep 1890
-- create container
docker run -it -p 1880:1880 -v node_red_data:/data --name nodered-pi3 nodered/node-red
docker run -it -p 1890:1880 -v node_red_data:/data --name nodered-dev nodered/node-red

-- install image motionEye
docker pull ccrisan/motioneye:master-armhf
docker run --name="motioneye" \
    -p 8765:8765 \
    --hostname="motioneye" \
    -v /etc/localtime:/etc/localtime:ro \
    -v /etc/motioneye:/etc/motioneye \
    -v /var/lib/motioneye:/var/lib/motioneye \
    --restart="always" \
    --detach=true \
    ccrisan/motioneye:master-armhf

> http://192.168.0.30:8765/
